.unitone-search-search-box {
	padding: 0 !important;

	&.has-background,
	&.has-border-color {
		--unitone--padding: var(--unitone--p1);

		.unitone-search-search-box__content {
			padding: var(--unitone--padding);
		}

		.unitone-search-search-box__action {
			margin-top: 0;
			padding: var(--unitone--p-1) var(--unitone--padding);
		}
	}

	&.has-border-color {
		.unitone-search-search-box__action {
			border-top: inherit;
		}
	}

	&__content {
		--unitone--row-gap: var(--unitone--s-1);
		--unitone--column-gap: var(--unitone--s2);

		display: grid;
		gap: var(--unitone--row-gap) var(--unitone--column-gap);

		> * {
			min-width: 0;
		}
	}

	&__action {
		margin-top: var(--unitone--s1);
		display: flex;
		gap: var(--unitone--s-2);
		flex-wrap: wrap;
		align-items: center;
		justify-content: space-between;

		.wp-element-button {
			min-width: min(20em, 100%);
		}
	}

	&__clear {
		appearance: none;
		cursor: pointer;
		border: none;
		background-color: transparent;
		color: var(--wp--preset--color--unitone-accent);

		&:hover {
			text-decoration: underline;
		}
	}
}

.unitone-search-fieldset {
	display: grid;
	gap: var(--unitone--s-2);
	border: 0;
	min-width: 0;
	padding: 0;

	&__header {
		display: block;
		border: 0;
		padding: 0;
		width: stretch;
		float: left;

		& + * {
			clear: both;
		}
	}
}

/**
 * Input, Textarea
 */
.unitone-search-form-control {
	--unitone--background-color: white;
	--unitone--background-color--disabled: var(--wp--preset--color--unitone-bright-gray);
	--unitone--border-radius: var(--unitone--global--border-radius);
	--unitone--border-color: var(--wp--preset--color--unitone-gray);
	--unitone--border-color--hover: var(--wp--preset--color--unitone-dark-gray);
	--unitone--border-color--focus: #85b7d9;

	background-color: var(--unitone--background-color);
	border: 1px solid var(--unitone--border-color);
	border-radius: var(--unitone--border-radius);
	outline: 0;
	box-shadow: inset 0 1px 1px rgba(0, 0, 0, .035);
	max-width: 100%;
	padding: .75rem 1rem;

	&:hover {
		--unitone--border-color: var(--unitone--border-color--hover);
	}

	&:active,
	&:focus-visible,
	&[aria-selected="true"] {
		--unitone--border-color: var(--unitone--border-color--focus);
	}

	> input,
	> textarea {
		border: none;
		outline: none;
	}

	&:is(:disabled, [disabled], [readonly]) {
		--unitone--background-color: var(--unitone--background-color--disabled);
	}

	&[disabled] {
		cursor: not-allowed;
	}

	> input[type="email"],
	> input[type="number"],
	> input[type="password"],
	> input[type="search"],
	> input[type="tel"],
	> input[type="text"],
	> input[type="url"] {
		width: stretch;
	}
}

textarea.unitone-search-form-control {
	height: auto;
	width: stretch;
}

/**
 * Date
 */
.unitone-search-date-control {
	.unitone-search-form-control {
		position: relative;
		width: stretch;

		&::-webkit-calendar-picker-indicator {
			position: absolute;
			width: 100%;
			height: 100%;
			opacity: 0;
		}
	}
}

/**
 * Checkbox, Radio
 */
.unitone-search-checkboxes,
.unitone-search-radios {
	display: flex;
	flex-wrap: wrap;
	gap: 0 var(--unitone--s-1);
}

.unitone-search-checkbox,
.unitone-search-radio {
	--unitone--background-color: white;
	--unitone--background-color--disabled: var(--wp--preset--color--unitone-bright-gray);
	--unitone--background-color--checked: #3a87fd;
	--unitone--border-radius: 0px;
	--unitone--border-color: var(--wp--preset--color--unitone-gray);
	--unitone--border-color--checked: #3a87fd;
	--unitone--border-color--focus: #85b7d9;
	--unitone--icon-color: white;
	--unitone--icon-color--disabled: var(--wp--preset--color--unitone-dark-gray);

	display: inline-flex;
	gap: var(--unitone--s-2);
	align-items: center;

	&__control {
		flex: 0 0 auto;
		appearance: none;
		position: relative;
		margin: 0;
		display: inline-grid;
		place-content: center;
		background-color: var(--unitone--background-color);
		border: 1px solid var(--unitone--border-color);
		border-radius: var(--unitone--border-radius);
		outline: none;
		box-shadow: inset 0 1px 1px rgba(0, 0, 0, .035);
		cursor: pointer;
		height: 1rem;
		width: 1rem;

		&::before {
			content: '';
			margin: 0;
			display: block;
			border-style: solid;
			visibility: hidden;
		}

		&:is(:active, :focus-visible, [aria-selected="true"]) {
			--unitone--border-color: var(--unitone--border-color--focus);
		}

		&:checked:where(:not(:disabled)) {
			--unitone--background-color: var(--unitone--background-color--checked);
			--unitone--border-color: var(--unitone--border-color--checked);

			&::before {
				visibility: visible;
			}
		}

		&:disabled {
			--unitone--background-color: var(--unitone--background-color--disabled);
			--unitone--icon-color: var(--unitone--icon-color--disabled);
		}
	}
}

/**
 * Checkbox
 */
.unitone-search-checkbox {
	--unitone--border-radius: 3px;

	&__control {
		&::before {
			border-color: var(--unitone--icon-color);
			border-width: 0 .125rem .125rem 0;
			height: .5rem;
			width: .375rem;
			transform: rotate(45deg) translate(-.03125rem, -.0625rem);
		}
	}
}

/**
 * Radio
 */
.unitone-search-radio {
	--unitone--border-radius: 100%;

	&__control {
		&::before {
			background-color: var(--unitone--icon-color);
			color: transparent;
			height: .375rem;
			width: .375rem;
			border-radius: var(--unitone--border-radius);
		}
	}
}

/**
 * Select
 */
.unitone-search-select {
	--unitone--background-color: white;
	--unitone--background-color--disabled: var(--wp--preset--color--unitone-bright-gray);
	--unitone--background-color--checked: #3a87fd;
	--unitone--border-radius: 0px;
	--unitone--border-color: var(--wp--preset--color--unitone-gray);
	--unitone--border-color--hover: var(--wp--preset--color--unitone-dark-gray);
	--unitone--border-color--focus: #85b7d9;

	position: relative;
	background-color: var(--unitone--background-color);

	&__toggle {
		display: none;
	}

	&__control {
		appearance: none;
		position: relative;
		z-index: 1;
		display: block;
		cursor: pointer;
		background-color: transparent;
		border: 1px solid var(--unitone--border-color);
		border-radius: var(--unitone--border-radius);
		outline: none;
		padding: .75rem var(--unitone--s1) .75rem 1rem;
		width: stretch;

		&:hover {
			--unitone--border-color: var(--unitone--border-color--hover);

			& + .smf-select-control__toggle {
				&::before {
					border-color: #3a87fd;
				}
			}
		}

		&:active,
		&:focus-visible,
		&[aria-selected="true"] {
			--unitone--border-color: var(--unitone--border-color--focus);
		}

		&[disabled] {
			cursor: not-allowed;
		}
	}

	&:has(:is(:disabled, [disabled], [readonly])) {
		--unitone--background-color: var(--unitone--background-color--disabled);
	}

	&__toggle {
		position: absolute;
		inset: 0;
		z-index: 0;
		display: block;
		background-color: transparent;

		&::before {
			position: absolute;
			top: calc(50% - 4px);
			right: calc(var(--unitone--s-1) - 6px);
			content: '';
			display: block;
			height: 6px;
			width: 6px;
			border-style: solid;
			border-color: currentColor;
			border-width: 0 1px 1px 0;
			transform: rotate(45deg);
		}
	}
}

/**
 * Layout
 */
.unitone-search-is-layout-inline {
	flex-direction: row;
}

.unitone-search-is-layout-stack {
	flex-direction: column;
}

.unitone-search-is-layout-grid {
	--unitone--item-min-width: 100px;

	display: grid;
	gap: 0 var(--unitone--s-1);
	grid-template-columns: repeat(auto-fit, minmax(min(var(--unitone--item-min-width), 100%), 1fr));
}

